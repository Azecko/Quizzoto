import Head from "next/head";
import { useRouter } from "next/router";


export default function Results() {
  const router = useRouter()
  const data = JSON.parse(router.query.newData)

  return (
    <>
      <Head>
        <title>Quizzoto - Résultats</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
        <link
          rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
        />
      </Head>
      <main>
        <h1 style={{fontFamily: 'Roboto'}}>
          Résultats
        </h1>

        {
          Object.keys(data).map((item, i) => (
            <div>
              <h3>Question numéro {data[item].questionNumber}</h3>
              <strong>Votre réponse :</strong> {data[item].answer}
              {
                data[item].answer.toLowerCase() == data[item].correctAnswer.toLowerCase() ? (
                  <h5>Félicitations ! Tu as eu la bonne réponse.</h5>
                ) : (
                  <h5>Pas de chance.. La réponse correcte était : {data[item].correctAnswer}</h5>
                )
              }
            </div>
          ))
        }
      </main>
    </>
  );
}
